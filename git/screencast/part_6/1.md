Бывают ситуации что возникают ошибки, которые замечены не сразу, а когда уже попали в репозиторий и хотелось бы отменить последний коммит или несколько последних коммитов и поменять там что-то.  

**git reset** - передаем ей коммит на который хотели бы вернуться, можно идентификатором, но обычно хотим вернуться на 1 или несколько коммитов назад. @ - HEAD, ~ - для получения родителя.  

                                    git reset @~ - родитель текущего коммита  

**git reset --hard** - жесткий вариант reset - передвигает текущую ветку на указанный коммит и обновляет рабочую директорию вместе с Index так чтобы они соответствовали состоянию проекта на момент этого коммита(т.е. и HEAD тоже теперь указывает на данный коммит). Если теперь сделать изменения и закоммитать - то родителем нового коммита будет текущая HEAD, а старый коммит теперь не участвует в разработке.  

Чтобы отменить этот жесткий reset - выполним git reset --hard (указатель на предыдущий коммит или ORIG_HEAD)  

По умолчанию, запись о недостижимых коммитах хранится в reflog как минимум 30 дней.  

Если в файлах были незакоммиченые изменения, то при жестком reset они пропадут - они просто будут заменены теми файлами, которые были на момент соответствующего коммита в репозитории. Эту особенность можно использовать для очистки локальной директории и индекса от незакоммиченых изменений:  

                                      git reset --hard HEAD

**git reset --soft** - переносит текущую ветку на указанный коммит, но в отличие от --hard - рабочую директорию и индекс не трогает, а в них остались версии файлов от коммита с которого мы ушли. Т.е. он отменяет последний коммит(если откатились на один коммит назад), а все файлы уже подготовлены для коммита. По сути это новый коммит, но можно взять информацию из отмененного коммита(флаг -c - если маленькая буква с - то откроется редактор, где описание можно будет поправить, а если большая(-С) то без редактирования):  

                                      git commit -С ORIG_HEAD  

флаг -с(-С) - берет не только сообщение но и данные об авторе  

git commit -C ORIG_HEAD --reset-author - такая  команда возьмет из ORIG_HEAD только сообщение.  

Отмена коммита это настолько типичная операция в git что для нее есть отдельный флаг комманды коммит --amend  

Команда commit --amend сделала 2 действия: сначала она передвинула текущую ветку назад(т.е. сделала тоже самое что и git reset --soft @~), при этом все файлы в рабочей директории и Index остались как есть, откатилась только ссылка в репозитории. А затем создала из текущего Index(с учетом последних изменений) новый коммит.  

Изменить коммит нельзя, это касается и описания тоже.  

git --amend - быстрая замена текущего коммита