### Работа с протоколом HTTP
Термин Ajax описывает архитектуру веб-приложений, отличительной чертой которых является работа с протоколом HTTP. Ключевой особенностью Ajax-приложения является использование протокола HTTP для инициации обмена данными с веб-сервером без необходимости перезагружать страницу.

Термин Comet описывает похожую архитектуру веб-приложений, также использующих протокол HTTP. В некотором смысле
архитектура Comet является обратной по отношению к Ajax: в архитектуре Comet не клиент, а сервер инициирует
взаимодействие, асинхронно отсылая сообщения клиенту.

В архитектуре Ajax клиент «вытягивает» данные с сервера. В архитектуре Comet сервер «навязывает» данные клиенту.

Даже изменение свойства src элемента <script> может использоваться для инициирования HTTP-запроса GET. Использование
элементов <script> для работы с протоколом HTTP выглядит особенно привлекательно, потому что они не являются субъектами политики общего происхождения и могут использоваться для взаимодействий с разными серверами.

### Использование объекта XMLHttpRequest
Прикладной интерфейс к протоколу HTTP в броузерах определяется в виде класса XMLHttpRequest. Объект XMLHttpRequest не является прикладным интерфейсом уровня протокола, он обеспечивает прикладной интерфейс уровня броузера. Броузер сам заботится о cookies, переадресации, кэшировании и прокси-серверах, а вам достаточно позаботиться только о запросах и ответах.  Каждый экземпляр этого класса представляет единственную пару запрос/ответ, а свойства и методы объекта позволяют определять параметры запроса и извлекать данные из ответа.

HTTP-запрос состоит из четырех частей:
  • метод HTTP-запроса или тип «операции»
  • запрашиваемый URL-адрес
  • необязательные заголовки запроса, которые могут включать информацию для аутентификации
  • необязательное тело запроса

                                var request = new XMLHttpRequest();
                                request.open(
                                    "GET", // Запрос типа HTTP GET 
                                    "data.csv" // на получение содержимого по этому URL-адресу
                                );
                                request.setRequestHeader("Content-Type", "text/plain"); // установка заголовка
                                request.send(null); // передача тела запроса

HTTP-ответ, возвращаемый сервером, состоит из трех частей:
  • числовое и текстовое значение, определяющее код состояния, свидетельствующий об успехе или об ошибке
  • набор заголовков ответа
  • тело ответа

Чтобы определить момент получения ответа, необходимо обрабатывать событие «readystatechange» (или событие «progress»,
определяемое новой спецификацией «XHR2»), возбуждаемое в объекте XMLHttpRequest.

Свойство readyState – это целочисленное значение, определяющее код состояния HTTP-запроса;

                               Константа          Значение                   Смысл
                                UNSENT                0          Метод open() еще не был вызван
                                OPENED                1              Метод open() был вызван
                            HEADERS_RECEIVED          2              Были получены заголовки
                                LOADING               3              Идет прием тела ответа
                                 DONE                 4              Прием ответа завершен

Чтобы обрабатывать события «readystatechange», нужно присвоить функцию обработчика события свойству onreadystatechange объекта XMLHttpRequest.